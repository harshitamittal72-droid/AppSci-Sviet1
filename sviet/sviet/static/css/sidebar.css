/* Sidebar CSS - integrate into your main CSS file */

/* Accessibility helper */.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border: 0;
}

/* Hamburger (visible on small screens) */
.sidebar-hamburger {
    position: fixed;
    top: 12px;
    left: 12px;
    background: var(--color-metallic);
    color: var(--color-text);
    border: none;
    padding: 8px;
    border-radius: 8px;
    box-shadow: var(--shadow-soft);
    z-index: 1200;
    display: none;
    /* shown via media query */
}

/* Sidebar base */
.sidebar {
    position: fixed;
    left: 0;
    top: 0;
    height: 100vh;
    width: 260px;
    background: var(--gradient-dark);
    color: var(--color-surface);
    padding: 20px 16px;
    box-shadow: var(--shadow-glow);
    border-right: var(--border-metallic);
    transform: translateX(0);
    transition: transform 280ms var(--ease-fast), box-shadow 280ms var(--ease-fast);
    z-index: 1100;
    display: flex;
    flex-direction: column;
    gap: 12px;
}

/* Collapsed look for wide screens: keep visible; small screens will hide */
.sidebar-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 8px;
}

.brand h3 {
    margin: 0;
    color: var(--color-heading);
    letter-spacing: 0.6px;
}

.brand .tag {
    display: inline-block;
    font-size: 12px;
    color: var(--color-accent-light);
    margin-left: 8px;
}

/* Close button for mobile overlay */
.close-btn {
    display: none;
    background: transparent;
    color: var(--color-surface);
    font-size: 20px;
    border: none;
}

.sidebar-nav {
    flex: 1 1 auto;
    overflow: auto;
    padding-top: 6px;
}

.sidebar-nav ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: block;
}

.sidebar-item {
    margin-bottom: 6px;
}

.sidebar-item>a,
.sidebar-item>button {
    display: flex;
    align-items: center;
    gap: 12px;
    width: 100%;
    padding: 10px 12px;
    text-decoration: none;
    color: var(--color-surface);
    background: transparent;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    font-weight: 500;
    transition: background 180ms var(--ease-fast), transform 180ms var(--ease-fast);
}

.sidebar-item>a:hover,
.sidebar-item>button:hover {
    background: linear-gradient(90deg, rgba(217, 175, 122, 0.06), rgba(143, 193, 227, 0.05));
    transform: translateX(4px);
}

/* Icons and text */
.item-icon {
    width: 28px;
    text-align: center;
    font-size: 16px;
}

.item-text {
    flex: 1;
    text-align: left;
    color: var(--color-surface);
}

/* Dropdown specifics */
.has-children .dropdown-toggle {
    display: flex;
    align-items: center;
    justify-content: space-between;
}

.caret {
    transition: transform 200ms var(--ease-fast);
    font-size: 12px;
    color: var(--color-metallic-light);
}

.submenu {
    margin-top: 8px;
    margin-left: 40px;
    list-style: none;
    padding-left: 0;
    max-height: 0;
    overflow: hidden;
    transition: max-height 260ms var(--ease-fast), opacity 260ms var(--ease-fast);
    opacity: 0;
}

.submenu li a {
    display: block;
    padding: 8px 10px;
    text-decoration: none;
    color: var(--color-accent-light);
    border-radius: 6px;
}

/* Open submenu state (toggled by JS adding .open) */
.has-children.open .submenu {
    max-height: 600px;
    /* large enough for most submenus */
    opacity: 1;
}

.has-children.open .caret {
    transform: rotate(90deg);
}

/* Footer */
.sidebar-footer {
    font-size: 12px;
    color: var(--color-text-muted);
    padding-top: 8px;
    border-top: 1px dashed rgba(255, 255, 255, 0.04);
}

/* Responsive: small screens */
@media (max-width: 920px) {
    .sidebar {
        transform: translateX(-110%);
        /* hide off-screen by default */
        width: 84%;
        max-width: 320px;
        border-right: none;
        border-left: var(--border-metallic);
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(6px);
    }

    .sidebar.open {
        transform: translateX(0);
    }

    .sidebar-hamburger {
        display: block;
    }

    .close-btn {
        display: inline-block;
    }
}

/* Force the sidebar base visuals and avoid conflicts */
#siteSidebar {
    background: var(--gradient-dark) !important;
    /* dark gradient for sidebar */
    color: var(--color-surface) !important;
    /* white text */
    width: 260px;
    box-shadow: var(--shadow-glow);
    z-index: 1200;
    /* higher than other page elements */
    pointer-events: auto;
    /* ensure it can be clicked */
}

/* if some child wrapper was getting white bg, ensure nav area is dark */
#siteSidebar .sidebar-nav,
#siteSidebar .sidebar-header,
#siteSidebar .sidebar-footer {
    background: transparent !important;
    color: var(--color-surface) !important;
}

/* ensure links and buttons inside sidebar are visible */
#siteSidebar a,
#siteSidebar a:link,
#siteSidebar a:visited,
#siteSidebar button {
    color: var(--color-surface) !important;
    background: transparent !important;
    text-decoration: none;
    border: none;
}

/* ensure .item-text specifically is visible */
#siteSidebar .item-text {
    color: var(--color-surface) !important;
}

/* remove unexpected white boxes inside links (some resets add background) */
#siteSidebar .sidebar-item>a,
#siteSidebar .sidebar-item>button {
    background: transparent !important;
    box-shadow: none !important;
}

/* make the close button sit on top and clickable */
#sidebarClose {
    z-index: 1301;
    /* above the sidebar so clicks hit it */
    pointer-events: auto;
    /* ensure it receives pointer events */
    background: transparent;
    color: var(--color-surface);
    font-size: 28px;
    border: none;
    cursor: pointer;
}

/* If an inner panel (like .panel, .card, or .content) was added by other HTML,
   style it to inherit sidebar look instead of white background */
#siteSidebar .panel,
#siteSidebar .card,
#siteSidebar .content {
    background: transparent !important;
    color: var(--color-surface) !important;
}

/* Selection color: optional — improves readability when user selects text */
#siteSidebar ::selection {
    background: rgba(217, 175, 122, 0.12);
    color: var(--color-surface);
}
/* sidebar-robust.css (paste into your main stylesheet) */

:root {
    /* your variables already defined */
}

/* Base sidebar */
#siteSidebar {
    position: fixed;
    top: 0;
    left: 0;
    width: 260px;
    height: 100vh;
    transform: translateX(0);
    transition: transform 280ms var(--ease-fast), visibility 280ms var(--ease-fast);
    will-change: transform;
    z-index: 1200;
    visibility: visible;
}

/* Default closed state (useful on mobile AND desktop if you want collapsed by default)
   If you'd rather show sidebar on large screens and only hide on small screens,
   change the media query below instead of this global rule.
*/
#siteSidebar:not(.open) {
    /* transform here will be overridden by inline JS if present */
    transform: translateX(-110%);
    visibility: hidden;
}

/* When .open is present, show the sidebar */
#siteSidebar.open {
    transform: translateX(0);
    visibility: visible;
}

/* Mobile override: you can keep same behavior (already handled above),
   or make it hidden by default only on small widths — this is optional. */
@media (max-width: 920px) {
    #siteSidebar {
        width: 84%;
        max-width: 320px;
    }

    /* ensure class-based toggling works fine on small screens */
    #siteSidebar:not(.open) {
        transform: translateX(-110%);
        visibility: hidden;
    }

    #siteSidebar.open {
        transform: translateX(0);
        visibility: visible;
    }
}
/* If you need content push on wide screens: add left padding to main content area */
/* Example: .main-content { margin-left: 260px; transition: margin 200ms; } */